(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,58594,e=>{"use strict";var s=e.i(73820);e.s(["default",0,({size:e="md",variant:t="primary",className:l=""})=>(0,s.jsx)("div",{className:`rounded-full animate-spin ${{sm:"w-4 h-4 border-2",md:"w-8 h-8 border-[3px]",lg:"w-12 h-12 border-4",xl:"w-16 h-16 border-4"}[e]} ${{primary:"border-primary border-t-transparent",white:"border-white border-t-transparent",slate:"border-slate-300 border-t-slate-600",current:"border-current border-t-transparent"}[t]} ${l}`})])},32549,e=>{"use strict";var s=e.i(73820),t=e.i(24726),l=e.i(42429),a=e.i(32341),r=e.i(58594);function i({children:e}){let{isAuthenticated:i,isLoading:n}=(0,a.useAuth)(),d=(0,l.useRouter)();return((0,t.useEffect)(()=>{n||i||d.push("/login")},[n,i,d]),n)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(r.default,{size:"lg",variant:"primary"}),(0,s.jsx)("p",{className:"text-slate-500 font-medium",children:"Đang tải dữ liệu..."})]})}):i?(0,s.jsx)(s.Fragment,{children:e}):null}e.s(["default",()=>i])},32098,e=>{"use strict";var s=e.i(73820),t=e.i(24726);e.s(["default",0,({isOpen:e,onClose:l,title:a,children:r,footer:i})=>((0,t.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),e)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",onClick:l}),(0,s.jsxs)("div",{className:"relative bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-xl animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-slate-100 flex justify-between items-center shrink-0",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-900 text-lg",children:a}),(0,s.jsx)("button",{onClick:l,className:"w-8 h-8 rounded-full bg-slate-50 hover:bg-slate-100 flex items-center justify-center text-slate-500 transition-colors",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-[20px]",children:"close"})})]}),(0,s.jsx)("div",{className:"p-4 overflow-y-auto",children:r}),i&&(0,s.jsx)("div",{className:"p-4 border-t border-slate-100 bg-slate-50 shrink-0",children:i})]})]}):null])},91072,e=>{"use strict";var s=e.i(73820),t=e.i(24726),l=e.i(42429),a=e.i(32549),r=e.i(8703),i=e.i(32098);function n(){let e=(0,l.useRouter)(),[n,d]=(0,t.useState)("all"),[c,o]=(0,t.useState)(null),{notifications:x,isLoading:m,markAsRead:h,unreadCount:u,markAllAsRead:b}=(0,r.useNotifications)(),f="all"===n?x:x.filter(e=>!e.read);return(0,s.jsx)(a.default,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-slate-50 font-sans pb-10",children:[(0,s.jsxs)("header",{className:"px-4 py-4 bg-white border-b border-slate-200 sticky top-0 z-20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-slate-900",children:"Thông báo"}),u>0&&(0,s.jsx)("button",{onClick:()=>b(),className:"text-primary text-xs font-bold hover:underline py-1 px-2",children:"Đã đọc tất cả"})]}),(0,s.jsxs)("div",{className:"flex p-1 bg-slate-100 rounded-xl",children:[(0,s.jsx)("button",{onClick:()=>d("all"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${"all"===n?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Tất cả"}),(0,s.jsx)("button",{onClick:()=>d("unread"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${"unread"===n?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Chưa đọc"})]})]}),(0,s.jsx)("main",{className:"p-4 space-y-3",children:m?(0,s.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map(e=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-2xl border border-slate-100 flex gap-4 animate-pulse",children:[(0,s.jsx)("div",{className:"w-12 h-12 rounded-full bg-slate-100 shrink-0"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)("div",{className:"h-4 bg-slate-100 rounded w-3/4"}),(0,s.jsx)("div",{className:"h-3 bg-slate-100 rounded w-full"})]})]},e))}):f.length>0?f.map(e=>(0,s.jsxs)("div",{onClick:()=>{o(e),e.read||h(e.id)},className:`p-4 rounded-2xl border flex gap-4 transition-colors cursor-pointer active:scale-[0.98] ${e.read?"bg-white border-slate-100":"bg-blue-50/50 border-blue-100"}`,children:[(0,s.jsx)("div",{className:`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center ${e.bg} ${e.color}`,children:(0,s.jsx)("span",{className:"material-symbols-outlined text-xl",children:e.icon})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-1",children:[(0,s.jsx)("h3",{className:`text-sm font-bold ${e.read?"text-slate-700":"text-slate-900"}`,children:e.title}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400 whitespace-nowrap ml-2",children:e.time})]}),(0,s.jsx)("p",{className:`text-xs leading-relaxed ${e.read?"text-slate-500":"text-slate-700 font-medium"}`,children:e.message})]}),!e.read&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-red-500 mt-1.5 flex-shrink-0"})]},e.id)):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400",children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-5xl mb-4 text-slate-200",children:"notifications_off"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:"Không có thông báo nào"})]})}),(0,s.jsx)(i.default,{isOpen:!!c,onClose:()=>o(null),title:"Chi tiết thông báo",children:c&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-slate-50 rounded-xl",children:[(0,s.jsx)("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${c.bg} ${c.color}`,children:(0,s.jsx)("span",{className:"material-symbols-outlined text-2xl",children:c.icon})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-bold text-slate-900",children:c.title}),(0,s.jsx)("span",{className:"text-[10px] text-slate-400",children:c.time})]})]}),(0,s.jsx)("div",{className:"bg-white p-4 rounded-xl border border-slate-100",children:(0,s.jsx)("p",{className:"text-sm text-slate-700 leading-relaxed whitespace-pre-wrap",children:c.message})}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>o(null),className:"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 text-sm font-bold text-slate-600 hover:bg-slate-50 transition-colors",children:"Đóng"}),c.targetUrl&&(0,s.jsx)("button",{onClick:()=>{c?.targetUrl&&e.push(c.targetUrl),o(null)},className:"flex-1 px-4 py-2.5 rounded-xl bg-primary text-white text-sm font-bold hover:bg-blue-600 transition-colors shadow-lg shadow-blue-500/20",children:"Xem chi tiết"})]})]})})]})})}e.s(["default",()=>n])}]);