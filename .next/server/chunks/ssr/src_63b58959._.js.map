{"version":3,"sources":["../../../../src/components/ui/Skeleton.tsx","../../../../src/services/matchService.ts","../../../../src/hooks/useMatches.ts","../../../../src/components/matches/MatchCard.tsx"],"sourcesContent":["import React from 'react';\n\ninterface SkeletonProps {\n  className?: string;\n  variant?: 'rectangular' | 'circular' | 'text';\n  width?: string | number;\n  height?: string | number;\n  style?: React.CSSProperties;\n}\n\nconst Skeleton: React.FC<SkeletonProps> = ({ \n  className = '', \n  variant = 'rectangular', \n  width, \n  height,\n  style\n}) => {\n  const baseStyles = \"animate-pulse bg-slate-200 dark:bg-slate-700/50\";\n  const variants = {\n    rectangular: \"rounded-xl\",\n    circular: \"rounded-full\",\n    text: \"rounded-md\"\n  };\n\n  const combinedStyle = {\n    width: width,\n    height: height,\n    ...style\n  };\n\n  return (\n    <div \n      className={`${baseStyles} ${variants[variant]} ${className}`} \n      style={combinedStyle}\n    />\n  );\n};\n\nexport default Skeleton;","import api from './api';\nimport { Match } from '@/types';\n\n// MOCK DATA\nconst MOCK_MATCHES: Match[] = [\n  {\n    id: 'm1',\n    league: 'Ngoại Hạng Anh',\n    time: '21:00',\n    date: '2024-05-15',\n    status: 'upcoming',\n    homeTeam: { id: 'ars', name: 'Arsenal', shortName: 'ARS', logo: 'https://lh3.googleusercontent.com/aida-public/AB6AXuCv5NVVh9T-UaTIMRxnS8clAtqWurB3cwOLl4OE0i9ottPQgZLI25ClbVNSGQgo-S7DJY70a4kLXVkom5h-x2vRMabIjbgiF173Fr200qagrxK4-o1lQ_TnyLE3yI-dY21wL4AGddmPhn1LF-NQqhPuQenMvtD0jXCHn26mdGK6AfYPfQplvRLuFlURYNzR6GzPeK0BKkCzby0O8ASmbskILXdRHcwc1oY8S807puNvZWA1UC8LwBLwCpo2qyEtbG0YPeYydZWUth73' },\n    awayTeam: { id: 'liv', name: 'Liverpool', shortName: 'LIV', logo: 'https://lh3.googleusercontent.com/aida-public/AB6AXuBkyDoc0HzKTO91GcaRn2eV_PLButIkoNrMzuhw4u1tMPxXpwtuuBCkfjpwuP9x7W4JegCNTYheTMvIVwVaPHUnMviZB_1Vsl9Ft8SivJ5wNofOa7t-2tcQZUx6fi1q2-RRIUbNyfE7bhG2I7_l3eRp5zk_EfsQmT_XM8WrT8dhnW07Ap5Erzi3xYPEVlwZim2nAYoAum-E5Qq6zvw49PUiDPMDrxEiL4u_AUQVE2WuQTMzNB9jaMM84CMXHI7A4spgCg-MZVrgCq5g' }\n  },\n  {\n    id: 'm2',\n    league: 'Ngoại Hạng Anh',\n    time: '23:30',\n    date: '2024-05-15',\n    status: 'upcoming',\n    homeTeam: { id: 'avl', name: 'Aston Villa', shortName: 'AVL', logo: 'https://lh3.googleusercontent.com/aida-public/AB6AXuDKjxJkTaLfNRGQDVYlnMIdAPY1KWtp92S2CDLBh0VUtfol_uA_H0GndLnVN4ig7BrPF-PyMns3RHQlNCGRR9cDTlnh9mkB4t4ViFUx9GXoUkOKkmKcpoDZ3_b7P1xhEOt2VVwl9jMsgWC8V_aLVU6I7m_VffYPEqTCUr64kb6RzREDsVugL_alKlr3ul873r8zdO-d0YPq7B5I-fAuvsN4Vh80F1B8oSPAKGGKuBdsg3kVVWLcT9Ba4ZQ8cYR2HdGZ1e8pwGtJtBIm' },\n    awayTeam: { id: 'mcy', name: 'Man City', shortName: 'MCY', logo: 'https://lh3.googleusercontent.com/aida-public/AB6AXuBsDjyZ_ZDqhitWSNcFLGV9nS6TR81p5kHwOOL-XUAy0CetJEPAFiLe2pYso0UnC_rbYa8rdRmve8zrUkhdfxGxXF31LQWmImsYNlznlXn2AXtISMhlhPwcBtoymBWSWbcRHeRuQzl0audWcwRga8mWaBRyBBqmElfDmo81GKqHYYsW5vOBaet5P1LDMu8kT6uH-tj9az4XSmbZ0OFCbW9dUMscK0NXGZM7AxUFf8PnlujMjy7r0Swfaf735VaDP_WOwiavD9TR2E4L' }\n  },\n  {\n    id: 'm3',\n    league: 'La Liga',\n    time: '02:00',\n    date: '2024-05-16',\n    status: 'upcoming',\n    minute: 'Ngày mai',\n    homeTeam: { id: 'rma', name: 'Real Madrid', shortName: 'RMA', logo: '' },\n    awayTeam: { id: 'bar', name: 'Barcelona', shortName: 'FCB', logo: '' }\n  },\n  {\n    id: 'm4',\n    league: 'V.League 1',\n    time: 'FT',\n    date: '2024-05-15',\n    status: 'finished',\n    homeScore: 2,\n    awayScore: 0,\n    homeTeam: { id: 'han', name: 'Hà Nội FC', shortName: 'HAN', logo: '' },\n    awayTeam: { id: 'vtl', name: 'Viettel', shortName: 'VTL', logo: '' }\n  }\n];\n\nexport const matchService = {\n  getMatches: async (params?: { date?: string; league?: string }): Promise<Match[]> => {\n    // REAL IMPLEMENTATION:\n    // const response = await api.get<Match[]>('/matches', { params });\n    // return response.data;\n\n    // SIMULATED IMPLEMENTATION:\n    return new Promise((resolve) => {\n      setTimeout(() => resolve(MOCK_MATCHES), 500);\n    });\n  },\n\n  getMatchDetail: async (id: string): Promise<any> => {\n    // const response = await api.get(`/matches/${id}`);\n    // return response.data;\n\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve({\n          homeTeam: { name: 'Man City', short: 'MCY', logo: 'https://lh3.googleusercontent.com/aida-public/AB6AXuD9TB7JVq97_UoXxTOZgXfgfZ5x9hiTkRQ78ZDpckn-f6xcELU2AP75qihBj-rQc6PHqeMxnp4zFhmhbKG6XOMDc4NGGG1gSqiR8v5D0N5rLmB1fLmo7swLOZVER-7PJn5JA9UbFSvhVkGkav-TSdejfypn7vrow0UhFmJkMn280hihyjh5sYzEN58OZji3k-PNQk4ZLE_cvohB2f_Qr8ECkWJ5h1f-k-qBK0cD3wAbYAwi-jc1x24JCHiUC3PZ_VgcaM8Q9nr2Odtk' },\n          awayTeam: { name: 'Chelsea', short: 'CHE', logo: 'https://lh3.googleusercontent.com/aida-public/AB6AXuCCa_YodWws3EmFS1BtJsBG1nMGsqa45EPyhz7bxVHmAkLPPo4Yla6aleDPmYrKjH6LagkDw3SkZqhnJa5d3H3x1K61CREfwxBGHPjVTr0e4IxT4WUlqO04YrQVWpUrr-VP6XQy3XdkAoxueLzKG7kcjMh1OE5wZzHmHPZh6YO6cf201uAbFW8ZosKMxJOBAxISoWMqide69WtbkxqPPYs0qS2HcCEG9rkrrk6tuGccY6hANiNhZAaAiwLZBdBpGn4qJmrjSX6DTJr4' },\n          score: '1 - 1',\n          status: 'KẾT THÚC'\n        });\n      }, 400);\n    });\n  }\n};","import { useState, useCallback } from 'react';\nimport { useQuery } from '@tanstack/react-query';\nimport { Match } from '@/types';\nimport { matchService } from '../services/matchService';\n\nexport const useMatches = () => {\n  const [activeFilter, setActiveFilter] = useState('Tất cả');\n\n  const { data: matches = [], isLoading, isError, refetch } = useQuery({\n    queryKey: ['matches'], // Cache key\n    queryFn: () => matchService.getMatches(),\n    staleTime: 1000 * 60, // 1 minute fresh\n    refetchOnWindowFocus: true, // Auto refetch when app comes to foreground\n    select: (data) => {\n      // Transformation: we could do basic sorting here if needed\n      return data;\n    }\n  });\n\n  const filters = ['Tất cả', 'Ngoại Hạng Anh', 'La Liga', 'V.League 1', 'Serie A'];\n\n  // Client-side filtering of the cached server state\n  const getFilteredMatches = useCallback(() => {\n    if (activeFilter === 'Tất cả') return matches;\n    return matches.filter(m => {\n      // Match exactly or normalization if needed\n      return m.league === activeFilter;\n    });\n  }, [matches, activeFilter]);\n\n  return {\n    activeFilter,\n    setActiveFilter,\n    filters,\n    getFilteredMatches,\n    loading: isLoading,\n    isError,\n    refetch\n  };\n};","'use client';\n\nimport React from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useQueryClient } from '@tanstack/react-query';\nimport { Match } from '@/types';\nimport { matchService } from '../../services/matchService';\n\ninterface MatchCardProps {\n  match: Match;\n}\n\nconst MatchCard: React.FC<MatchCardProps> = ({ match }) => {\n  const router = useRouter();\n  const queryClient = useQueryClient();\n\n  // Prefetch data when user hovers over the card\n  const handleMouseEnter = () => {\n    queryClient.prefetchQuery({\n      queryKey: ['match', match.id],\n      queryFn: () => matchService.getMatchDetail(match.id),\n      staleTime: 1000 * 30, // Data valid for 30s\n    });\n  };\n\n  return (\n    <div\n      onClick={() => router.push(`/match/${match.id}`)}\n      onMouseEnter={handleMouseEnter}\n      className=\"bg-card rounded-xl p-4 shadow border border-slate-100 cursor-pointer hover:shadow-md transition-shadow\"\n    >\n      <div className=\"flex items-center justify-between\">\n        {/* Home Team */}\n        <div className=\"flex items-center gap-3 flex-1 w-1/3\">\n          <div\n            className=\"flex flex-col items-center gap-1 cursor-pointer\"\n            onClick={(e) => { e.stopPropagation(); router.push('/team-detail'); }}\n          >\n            {match.homeTeam.logo ? (\n              <img src={match.homeTeam.logo} alt={match.homeTeam.name} className=\"w-8 h-8 object-contain\" />\n            ) : (\n              <div className=\"w-8 h-8 rounded-full bg-blue-50 border border-blue-100 flex items-center justify-center text-blue-600 font-bold text-xs\">\n                {match.homeTeam.shortName.substring(0, 2)}\n              </div>\n            )}\n            <span className=\"text-xs font-semibold hidden sm:block text-slate-900\">{match.homeTeam.name}</span>\n          </div>\n          <span className=\"text-sm font-semibold sm:hidden text-slate-900\">{match.homeTeam.shortName}</span>\n        </div>\n\n        {/* Match Info / Score */}\n        <div className=\"flex flex-col items-center justify-center w-1/3\">\n          {match.status === 'finished' ? (\n            <>\n              <span className=\"text-xs font-bold text-slate-500 mb-1\">FT</span>\n              <div className=\"flex items-center gap-2 bg-slate-100 px-3 py-1 rounded-lg border border-slate-200\">\n                <span className=\"text-sm font-bold text-slate-900\">{match.homeScore}</span>\n                <span className=\"text-xs text-slate-400\">-</span>\n                <span className=\"text-sm font-bold text-slate-900\">{match.awayScore}</span>\n              </div>\n            </>\n          ) : (\n            <>\n              <span className=\"text-xs font-medium text-slate-500 mb-1\">{match.time}</span>\n              <div className=\"px-3 py-1 rounded-lg bg-slate-50 border border-slate-200\">\n                <span className=\"text-sm font-bold text-slate-700\">vs</span>\n              </div>\n              <span className=\"text-[10px] text-slate-500 mt-1\">{match.minute || 'Ngày mai'}</span>\n            </>\n          )}\n        </div>\n\n        {/* Away Team */}\n        <div className=\"flex items-center gap-3 flex-1 justify-end w-1/3\">\n          <span className=\"text-sm font-semibold sm:hidden text-slate-900\">{match.awayTeam.shortName}</span>\n          <div\n            className=\"flex flex-col items-center gap-1 cursor-pointer\"\n            onClick={(e) => { e.stopPropagation(); router.push('/team-detail'); }}\n          >\n            {match.awayTeam.logo ? (\n              <img src={match.awayTeam.logo} alt={match.awayTeam.name} className=\"w-8 h-8 object-contain\" />\n            ) : (\n              <div className=\"w-8 h-8 rounded-full bg-red-50 border border-red-100 flex items-center justify-center text-red-600 font-bold text-xs\">\n                {match.awayTeam.shortName.substring(0, 2)}\n              </div>\n            )}\n            <span className=\"text-xs font-semibold hidden sm:block text-slate-900\">{match.awayTeam.name}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(MatchCard);"],"names":[],"mappings":"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"}