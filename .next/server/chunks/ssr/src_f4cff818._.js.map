{"version":3,"sources":["../../../../src/components/ui/Spinner.tsx","../../../../src/components/AuthGuard.tsx","../../../../src/components/ui/Modal.tsx","../../../../src/app/%28primary%29/notifications/page.tsx"],"sourcesContent":["import React from 'react';\n\ninterface SpinnerProps {\n  size?: 'sm' | 'md' | 'lg' | 'xl';\n  variant?: 'primary' | 'white' | 'slate' | 'current';\n  className?: string;\n}\n\nconst Spinner: React.FC<SpinnerProps> = ({ size = 'md', variant = 'primary', className = '' }) => {\n  const sizes = {\n    sm: 'w-4 h-4 border-2',\n    md: 'w-8 h-8 border-[3px]',\n    lg: 'w-12 h-12 border-4',\n    xl: 'w-16 h-16 border-4'\n  };\n\n  const variants = {\n    primary: 'border-primary border-t-transparent',\n    white: 'border-white border-t-transparent',\n    slate: 'border-slate-300 border-t-slate-600',\n    current: 'border-current border-t-transparent'\n  };\n\n  return (\n    <div className={`rounded-full animate-spin ${sizes[size]} ${variants[variant]} ${className}`} />\n  );\n};\n\nexport default Spinner;","'use client';\n\nimport React, { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '../context/AuthContext';\nimport Spinner from './ui/Spinner';\n\nexport default function AuthGuard({ children }: { children: React.ReactNode }) {\n  const { isAuthenticated, isLoading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!isLoading && !isAuthenticated) {\n      router.push('/login');\n    }\n  }, [isLoading, isAuthenticated, router]);\n\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-slate-50\">\n        <div className=\"flex flex-col items-center gap-4\">\n          <Spinner size=\"lg\" variant=\"primary\" />\n          <p className=\"text-slate-500 font-medium\">Đang tải dữ liệu...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!isAuthenticated) {\n    return null;\n  }\n\n  return <>{children}</>;\n}","import React, { useEffect } from 'react';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title?: string;\n  children: React.ReactNode;\n  footer?: React.ReactNode;\n}\n\nconst Modal: React.FC<ModalProps> = ({ isOpen, onClose, title, children, footer }) => {\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center p-4\">\n      <div \n        className=\"absolute inset-0 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200\"\n        onClick={onClose}\n      />\n      <div className=\"relative bg-white rounded-2xl w-full max-w-sm overflow-hidden shadow-xl animate-in zoom-in-95 duration-200 flex flex-col max-h-[90vh]\">\n        <div className=\"p-4 border-b border-slate-100 flex justify-between items-center shrink-0\">\n          <h3 className=\"font-bold text-slate-900 text-lg\">{title}</h3>\n          <button \n            onClick={onClose}\n            className=\"w-8 h-8 rounded-full bg-slate-50 hover:bg-slate-100 flex items-center justify-center text-slate-500 transition-colors\"\n          >\n            <span className=\"material-symbols-outlined text-[20px]\">close</span>\n          </button>\n        </div>\n        \n        <div className=\"p-4 overflow-y-auto\">\n          {children}\n        </div>\n\n        {footer && (\n          <div className=\"p-4 border-t border-slate-100 bg-slate-50 shrink-0\">\n            {footer}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;","'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport AuthGuard from '../../../components/AuthGuard';\nimport { useNotifications } from '../../../hooks/useNotifications';\nimport Modal from '../../../components/ui/Modal';\nimport { Notification } from '@/types';\n\nexport default function NotificationsPage() {\n  const router = useRouter();\n  const [filter, setFilter] = useState<'all' | 'unread'>('all');\n  const [selectedNotification, setSelectedNotification] = useState<Notification | null>(null);\n  const { notifications, isLoading, markAsRead, unreadCount, markAllAsRead } = useNotifications();\n\n  const filteredNotifications = filter === 'all'\n    ? notifications\n    : notifications.filter((notif: Notification) => !notif.read);\n\n  const handleNotificationClick = (notif: Notification) => {\n    setSelectedNotification(notif);\n    if (!notif.read) {\n      markAsRead(notif.id);\n    }\n  };\n\n  const handleAction = () => {\n    if (selectedNotification?.targetUrl) {\n      router.push(selectedNotification.targetUrl);\n    }\n    setSelectedNotification(null);\n  };\n\n  return (\n    <AuthGuard>\n      <div className=\"min-h-screen bg-slate-50 font-sans pb-10\">\n        <header className=\"px-4 py-4 bg-white border-b border-slate-200 sticky top-0 z-20\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h1 className=\"text-lg font-bold text-slate-900\">Thông báo</h1>\n            {unreadCount > 0 && (\n              <button\n                onClick={() => markAllAsRead()}\n                className=\"text-primary text-xs font-bold hover:underline py-1 px-2\"\n              >\n                Đã đọc tất cả\n              </button>\n            )}\n          </div>\n\n          <div className=\"flex p-1 bg-slate-100 rounded-xl\">\n            <button\n              onClick={() => setFilter('all')}\n              className={`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${filter === 'all' ? 'bg-white text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}\n            >\n              Tất cả\n            </button>\n            <button\n              onClick={() => setFilter('unread')}\n              className={`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${filter === 'unread' ? 'bg-white text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}\n            >\n              Chưa đọc\n            </button>\n          </div>\n        </header>\n\n        <main className=\"p-4 space-y-3\">\n          {isLoading ? (\n            <div className=\"space-y-3\">\n              {[1, 2, 3, 4].map(i => (\n                <div key={i} className=\"bg-white p-4 rounded-2xl border border-slate-100 flex gap-4 animate-pulse\">\n                  <div className=\"w-12 h-12 rounded-full bg-slate-100 shrink-0\"></div>\n                  <div className=\"flex-1 space-y-2\">\n                    <div className=\"h-4 bg-slate-100 rounded w-3/4\"></div>\n                    <div className=\"h-3 bg-slate-100 rounded w-full\"></div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : filteredNotifications.length > 0 ? (\n            filteredNotifications.map((notif: Notification) => (\n              <div\n                key={notif.id}\n                onClick={() => handleNotificationClick(notif)}\n                className={`p-4 rounded-2xl border flex gap-4 transition-colors cursor-pointer active:scale-[0.98] ${notif.read ? 'bg-white border-slate-100' : 'bg-blue-50/50 border-blue-100'}`}\n              >\n                <div className={`w-12 h-12 rounded-full flex-shrink-0 flex items-center justify-center ${notif.bg} ${notif.color}`}>\n                  <span className=\"material-symbols-outlined text-xl\">{notif.icon}</span>\n                </div>\n                <div className=\"flex-1\">\n                  <div className=\"flex justify-between items-start mb-1\">\n                    <h3 className={`text-sm font-bold ${notif.read ? 'text-slate-700' : 'text-slate-900'}`}>{notif.title}</h3>\n                    <span className=\"text-[10px] text-slate-400 whitespace-nowrap ml-2\">{notif.time}</span>\n                  </div>\n                  <p className={`text-xs leading-relaxed ${notif.read ? 'text-slate-500' : 'text-slate-700 font-medium'}`}>{notif.message}</p>\n                </div>\n                {!notif.read && (\n                  <div className=\"w-2 h-2 rounded-full bg-red-500 mt-1.5 flex-shrink-0\"></div>\n                )}\n              </div>\n            ))\n          ) : (\n            <div className=\"flex flex-col items-center justify-center py-20 text-slate-400\">\n              <span className=\"material-symbols-outlined text-5xl mb-4 text-slate-200\">notifications_off</span>\n              <p className=\"text-sm font-medium\">Không có thông báo nào</p>\n            </div>\n          )}\n        </main>\n\n        {/* Notification Detail Modal */}\n        <Modal\n          isOpen={!!selectedNotification}\n          onClose={() => setSelectedNotification(null)}\n          title=\"Chi tiết thông báo\"\n        >\n          {selectedNotification && (\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center gap-4 p-3 bg-slate-50 rounded-xl\">\n                <div className={`w-12 h-12 rounded-full flex items-center justify-center ${selectedNotification.bg} ${selectedNotification.color}`}>\n                  <span className=\"material-symbols-outlined text-2xl\">{selectedNotification.icon}</span>\n                </div>\n                <div>\n                  <h4 className=\"text-sm font-bold text-slate-900\">{selectedNotification.title}</h4>\n                  <span className=\"text-[10px] text-slate-400\">{selectedNotification.time}</span>\n                </div>\n              </div>\n\n              <div className=\"bg-white p-4 rounded-xl border border-slate-100\">\n                <p className=\"text-sm text-slate-700 leading-relaxed whitespace-pre-wrap\">\n                  {selectedNotification.message}\n                </p>\n              </div>\n\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setSelectedNotification(null)}\n                  className=\"flex-1 px-4 py-2.5 rounded-xl border border-slate-200 text-sm font-bold text-slate-600 hover:bg-slate-50 transition-colors\"\n                >\n                  Đóng\n                </button>\n                {selectedNotification.targetUrl && (\n                  <button\n                    onClick={handleAction}\n                    className=\"flex-1 px-4 py-2.5 rounded-xl bg-primary text-white text-sm font-bold hover:bg-blue-600 transition-colors shadow-lg shadow-blue-500/20\"\n                  >\n                    Xem chi tiết\n                  </button>\n                )}\n              </div>\n            </div>\n          )}\n        </Modal>\n      </div>\n    </AuthGuard>\n  );\n}"],"names":[],"mappings":"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"}