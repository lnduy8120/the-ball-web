module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},15013,(a,b,c)=>{"use strict";b.exports=a.r(18622)},77809,(a,b,c)=>{"use strict";b.exports=a.r(15013).vendored["react-ssr"].ReactJsxRuntime},60969,(a,b,c)=>{"use strict";b.exports=a.r(15013).vendored["react-ssr"].React},56025,66632,a=>{"use strict";var b=a.i(77809),c=a.i(60969);let d=({toast:a,onRemove:c})=>(0,b.jsxs)("div",{className:`pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl border shadow-lg shadow-slate-200/50 min-w-[300px] animate-in slide-in-from-top-2 fade-in duration-300 ${{success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",info:"bg-blue-50 text-blue-800 border-blue-200",warning:"bg-orange-50 text-orange-800 border-orange-200"}[a.type]}`,children:[(0,b.jsx)("span",{className:"material-symbols-outlined text-xl",children:{success:"check_circle",error:"error",info:"info",warning:"warning"}[a.type]}),(0,b.jsx)("p",{className:"text-sm font-semibold flex-1",children:a.message}),(0,b.jsx)("button",{onClick:c,className:"opacity-60 hover:opacity-100 transition-opacity",children:(0,b.jsx)("span",{className:"material-symbols-outlined text-lg",children:"close"})})]}),e=({toasts:a,removeToast:c})=>(0,b.jsx)("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none",children:a.map(a=>(0,b.jsx)(d,{toast:a,onRemove:()=>c(a.id)},a.id))}),f=(0,c.createContext)(void 0),g=()=>{let a=(0,c.useContext)(f);if(!a)throw Error("useToast must be used within a ToastProvider");return a};a.s(["ToastProvider",0,({children:a})=>{let[d,g]=(0,c.useState)([]),h=(0,c.useCallback)(a=>{g(b=>b.filter(b=>b.id!==a))},[]),i=(0,c.useCallback)((a,b="info")=>{let c=Math.random().toString(36).substring(2,9);g(d=>[...d,{id:c,message:a,type:b}]),setTimeout(()=>{h(c)},3e3)},[h]);return(0,b.jsxs)(f.Provider,{value:{showToast:i,removeToast:h},children:[a,(0,b.jsx)(e,{toasts:d,removeToast:h})]})},"useToast",0,g],66632);let h={id:"user-123",name:"Lê Nhựt Duy",email:"le.nhut.duy@gmail.com",phone_number:"0987654321",avatar:"",role:"user"},i=async a=>new Promise(a=>{setTimeout(()=>{a({accessToken:"mock_access_token_"+Date.now(),refreshToken:"mock_refresh_token_"+Date.now(),expiresIn:3600,user:h})},800)}),j=async()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},k=async()=>new Promise(a=>{setTimeout(()=>a(h),500)}),l=(0,c.createContext)(void 0);a.s(["AuthProvider",0,({children:a})=>{let[d,e]=(0,c.useState)(null),[f,h]=(0,c.useState)(!0),{showToast:m}=g(),n=(0,c.useCallback)(async()=>{try{await j()}catch(a){console.error("Logout error",a)}finally{e(null),window.location.href="/"}},[]),o=async()=>{try{h(!0);let a=await i();localStorage.setItem("access_token",a.accessToken),localStorage.setItem("refresh_token",a.refreshToken),e(a.user),m("Đăng nhập thành công!","success")}catch(a){console.error("Login failed",a),m("Đăng nhập thất bại. Vui lòng thử lại.","error")}finally{h(!1)}};return(0,c.useEffect)(()=>{(async()=>{if(localStorage.getItem("access_token"))try{console.log("[Auth] Restoring session...");let a=await k();e(a)}catch(a){console.error("Session restoration failed",a),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")}h(!1)})()},[]),(0,b.jsx)(l.Provider,{value:{isAuthenticated:!!d,isLoading:f,user:d,login:o,logout:n},children:a})},"useAuth",0,()=>{let a=(0,c.useContext)(l);if(!a)throw Error("useAuth must be used within an AuthProvider");return a}],56025)},52316,a=>{"use strict";var b=a.i(36120),c=a.i(19638),d=a.i(37768),e=class extends c.Removable{#a;#b;#c;#d;constructor(a){super(),this.#a=a.client,this.mutationId=a.mutationId,this.#c=a.mutationCache,this.#b=[],this.state=a.state||f(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){this.#b.includes(a)||(this.#b.push(a),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){this.#b=this.#b.filter(b=>b!==a),this.scheduleGc(),this.#c.notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){this.#b.length||("pending"===this.state.status?this.scheduleGc():this.#c.remove(this))}continue(){return this.#d?.continue()??this.execute(this.state.variables)}async execute(a){let b=()=>{this.#e({type:"continue"})},c={client:this.#a,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#d=(0,d.createRetryer)({fn:()=>this.options.mutationFn?this.options.mutationFn(a,c):Promise.reject(Error("No mutationFn found")),onFail:(a,b)=>{this.#e({type:"failed",failureCount:a,error:b})},onPause:()=>{this.#e({type:"pause"})},onContinue:b,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#c.canRun(this)});let e="pending"===this.state.status,f=!this.#d.canStart();try{if(e)b();else{this.#e({type:"pending",variables:a,isPaused:f}),await this.#c.config.onMutate?.(a,this,c);let b=await this.options.onMutate?.(a,c);b!==this.state.context&&this.#e({type:"pending",context:b,variables:a,isPaused:f})}let d=await this.#d.start();return await this.#c.config.onSuccess?.(d,a,this.state.context,this,c),await this.options.onSuccess?.(d,a,this.state.context,c),await this.#c.config.onSettled?.(d,null,this.state.variables,this.state.context,this,c),await this.options.onSettled?.(d,null,a,this.state.context,c),this.#e({type:"success",data:d}),d}catch(b){try{await this.#c.config.onError?.(b,a,this.state.context,this,c)}catch(a){Promise.reject(a)}try{await this.options.onError?.(b,a,this.state.context,c)}catch(a){Promise.reject(a)}try{await this.#c.config.onSettled?.(void 0,b,this.state.variables,this.state.context,this,c)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,b,a,this.state.context,c)}catch(a){Promise.reject(a)}throw this.#e({type:"error",error:b}),b}finally{this.#c.runNext(this)}}#e(a){this.state=(b=>{switch(a.type){case"failed":return{...b,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...b,isPaused:!0};case"continue":return{...b,isPaused:!1};case"pending":return{...b,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...b,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...b,data:void 0,error:a.error,failureCount:b.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}})(this.state),b.notifyManager.batch(()=>{this.#b.forEach(b=>{b.onMutationUpdate(a)}),this.#c.notify({mutation:this,type:"updated",action:a})})}};function f(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}a.s(["Mutation",()=>e,"getDefaultState",()=>f])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__b510e43b._.js.map